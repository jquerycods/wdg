SpilGames("SWP DOMEvent DOMSelect BeLazy EventTracker Cookie".split(" "),function(h,p,D,u,x,r){h.init("fallback");var m=window.document,v=function(){return"S"+Array(Math.floor(12*Math.random())+5).join().split(",").map(function(){return"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".charAt(Math.floor(62*Math.random()))}).join("")},q=function(c,b,a){b={campaign:b.getAttribute("data-campaign"),size:b.width+"x"+b.height};a=h.Utils.combine(b,a||{});x.trackExpress({eventCategory:"displayFallbackAds",
eventAction:c,properties:a})},n=function(c){q("adRequestFullfilled",c);u.until("visible",c,function(b){q("adDisplayed",b)},!0);u.trigger()},z=function(c,b,a,f,e,g,d,y){var k=m.createElement("img"),l;b&&(l=m.createElement("a"),l.href=b,l.appendChild(k),l.style.padding="1em 0 0.5em",l.style.background="#f5f5f5",l.style.display="block",g&&(l.target="_blank"),p.add(l,"click",function(a){a=l;var b=a.querySelector("img");q("adClick",b,{link:a.href})}));k.setAttribute("data-campaign",c);k.setAttribute("width",
f);k.setAttribute("height",e);k.style.margin="0 auto";k.src=a;h.Utils.addClass(d,y);d.appendChild(l||k);k.complete?n(k):p.add(k,"load",function(){n(k)})},A=function(c,b,a,f,e,g){var d=m.createElement("iframe");d.setAttribute("data-campaign",c);d.setAttribute("width",a);d.setAttribute("height",f);d.style.border=0;d.style.margin="0 auto";d.src=b;h.Utils.addClass(e,g);e.appendChild(d);d.complete?n(d):p.add(d,"load",function(){n(d)})},B=function(c){var b=m.body,a=m.createElement("a");a.href=c.targetUrl;
a.setAttribute("style",'display: block; position:absolute; width:100%; height:100%; background: url("'+c.assetUrl+'") center top no-repeat; background-color: '+c.bgColor+";");a.setAttribute("data-campaign",c.name);c.external&&(a.target="_blank");h.Utils.addClass(b,"takeover");b.insertBefore(a,b.firstChild);n(a);p.add(a,"click",function(b){q("adClick",a,{link:c.targetUrl})})},t=function(c,b){Array.prototype.slice.call(m.querySelectorAll("."+b)).forEach(function(a){"iframe"===c.type?(A(c.name,c.assetUrl,
c.width,c.height,a,"wdg_fallback_"+b),a.setAttribute("data-fallback-type","iframe")):(z(c.name,c.targetUrl,c.assetUrl,c.width,c.height,c.external,a,"wdg_fallback_"+b),a.setAttribute("data-fallback-type","image"))})},C=function(c){var b,a=function(){var a=document.querySelector(".fallback-progress-bar");a&&(a.className+=" start")},f=function(){b.setAttribute("style","display:none;")},e=document.getElementById("game-integration"),g=v(),d=c.timer||5;e&&h.System.init(function(h){"game.display"===h.name&&
(h=c.width+8||308,b=document.createElement("div"),b.setAttribute("class",g),b.setAttribute("style","position:absolute; top:0; left:0; height:100%; width:100%; background:#000; display:flex; align-items:center; justify-content:center; flex-direction:column-reverse;"),b.innerHTML="<style>.fallback-progress{width:"+h+"px;border-radius:6px;background:#666; border: 4px solid #444;}.fallback-progress-bar{height: 16px; border-radius: 4px; background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.05)); transition: "+
d+"s linear; transition-property: width, background-color; width:0; background-color:#f63a0f;}."+g+' a{border:4px solid #444;border-radius:6px;margin-bottom:10px;}.fallback-progress .start{background-color:#86e01e;width:100%;}</style><div class="fallback-progress"><div class="fallback-progress-bar"></div></div>',e.appendChild(b),t(c,g),setTimeout(a,0),setTimeout(f,1E3*d))})},w=function(){var c=h.getProperty("fallbacks")||{},b;for(b in c)if(c.hasOwnProperty(b)){var a;a:{a=c[b];var f=r.getItem({key:b});
if(f)for(var e=0;e<a.length;e++)if(f===a[e].name&&"boolean"===typeof a[e].persistent&&a[e].persistent){a=a[e];break a}a=void 0}if(!a){a=c[b];for(var f=0,e=[],g,d=0;d<a.length;d++){g=a[d];g=g.weight||1;for(var n=0;n<g;n++)e.push(d);f+=g}a=a[e[Math.floor(Math.random()*f)]]}a=a||{};f=b;a.persistent?r.setItem({key:f,value:a.name,expires:"never"}):r.removeItem({key:f});"preroll"===b?C(a):"takeover"===b?B(a):"LbGp1"==b?(d=b,e=m.createElement("div"),f=v(),d=m.querySelectorAll("."+d)[0],d.style.padding="0",
h.Utils.addClass(e,f),g=document.createRange(),g.selectNode(d),g.surroundContents(e),t(a,f)):t(a,b)}};h.System.init(function(c){"content.blocker.detected"===c.name&&(h.getProperty("delay")?SpilGames({waiton:"content.ready"},function(){w()}):w())})});